{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/nilesh/Desktop/sparklehood_bitbucket/sparklehood_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Box,Flex,IconButton,useColorMode,Heading,Text,Link,FormControl,FormLabel,Input,Stack,Button,Image,Spinner}from\"@chakra-ui/react\";import{Redirect}from\"react-router-dom\";import{useHistory}from\"react-router-dom\";import axiosInstance from\"../../axios\";import{isAuthenticated}from\"../../auth\";import\"./style.css\";import Header from\"./NavBar/header/Header\";import{useToast}from\"@chakra-ui/react\";var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var history=useHistory();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var toast=useToast();var handleSubmit=function handleSubmit(e){e.preventDefault();try{setIsLoading(true);axiosInstance.post(\"user/login/\",{email:email,password:password}).then(function(res){setIsLoading(false);localStorage.setItem(\"access_token\",res.data.tokens.access);localStorage.setItem(\"refresh_token\",res.data.tokens.refresh);axiosInstance.defaults.headers[\"Authorization\"]=\"JWT \"+localStorage.getItem(\"access_token\");history.push(\"/founder\");}).catch(function(err){console.log(err.response.data.detail);setIsLoading(false);toast({position:\"top-left\",title:\"Message\",description:err.response.data.detail,status:\"warning\",duration:5000,isClosable:true});});}catch(error){console.log(error);setIsLoading(false);alert(error);}};var LoginForm=function LoginForm(){return/*#__PURE__*/_jsx(Box,{my:10,textAlign:\"left\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email address\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",placeholder:\"Enter Your email address\",onChange:function onChange(e){return setEmail(e.currentTarget.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{mt:4,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",placeholder:\"Enter Your Password\",onChange:function onChange(e){return setPassword(e.currentTarget.value);}})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",width:\"full\",mt:4,onClick:handleSubmit,children:\"Login\"}),/*#__PURE__*/_jsxs(Stack,{fontSize:\"20px\",isInline:true,justifyContent:\"space-between\",mt:4,children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign Up\"})}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Link,{children:\"Forget Your password\"})})]})]})});};return isLoading?/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",width:\"60%\",margin:\"30px auto\",height:\"80vh\",textAlign:\"center\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(Spinner,{thickness:\"4px\",speed:\"0.65s\",emptyColor:\"gray.200\",color:\"blue.500\",size:\"xl\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"main__login\",children:/*#__PURE__*/_jsx(Flex,{minHeight:\"100vh\",width:\"full\",align:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Box,{borderWidth:1,px:10,py:8,width:\"full\",maxWidth:\"900px\",textAlign:\"center\",boxShadow:\"xl\",children:/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-around\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Box,{p:4,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://global-uploads.webflow.com/5f3c09d8572b1a3453aa9c1f/5faac65b405f8d172ef75b8e_Sparklehood%20logo%20grey%20login%20page-p-500.png\"}),/*#__PURE__*/_jsx(LoginHeader,{}),LoginForm()]}),/*#__PURE__*/_jsx(\"div\",{className:\"login__image\",children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(\"img\",{src:\"https://global-uploads.webflow.com/5f3c09d8572b1a3453aa9c1f/5faab7a66dfdec1ed6d2ecca_Sparklehood%20platform%20login%20page-p-500.png\"})})})]})})})});};var ThemeSelector=function ThemeSelector(){var _useColorMode=useColorMode(),colorMode=_useColorMode.colorMode,toggleColorMode=_useColorMode.toggleColorMode;return/*#__PURE__*/_jsx(Box,{textAlign:\"right\",py:4,children:/*#__PURE__*/_jsx(IconButton,{onClick:toggleColorMode})});};var LoginHeader=function LoginHeader(){return/*#__PURE__*/_jsx(Box,{textAlign:\"center\",children:/*#__PURE__*/_jsx(Heading,{fontSize:\"60px\",children:\"Log In\"})});};export default Login;","map":{"version":3,"sources":["/home/nilesh/Desktop/sparklehood_bitbucket/sparklehood_frontend/src/components/MainPage/Login.js"],"names":["React","useState","Box","Flex","IconButton","useColorMode","Heading","Text","Link","FormControl","FormLabel","Input","Stack","Button","Image","Spinner","Redirect","useHistory","axiosInstance","isAuthenticated","Header","useToast","Login","isLoading","setIsLoading","history","email","setEmail","password","setPassword","toast","handleSubmit","e","preventDefault","post","then","res","localStorage","setItem","data","tokens","access","refresh","defaults","headers","getItem","push","catch","err","console","log","response","detail","position","title","description","status","duration","isClosable","error","alert","LoginForm","currentTarget","value","display","width","margin","height","textAlign","justifyContent","alignItems","ThemeSelector","colorMode","toggleColorMode","LoginHeader"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Box,\n  Flex,\n  IconButton,\n  useColorMode,\n  Heading,\n  Text,\n  Link,\n  FormControl,\n  FormLabel,\n  Input,\n  Stack,\n  Button,\n  Image,\n  Spinner,\n} from \"@chakra-ui/react\";\nimport { Redirect } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport axiosInstance from \"../../axios\";\nimport { isAuthenticated } from \"../../auth\";\nimport \"./style.css\";\nimport Header from \"./NavBar/header/Header\";\nimport { useToast } from \"@chakra-ui/react\";\n\nconst Login = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const toast = useToast();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    try {\n      setIsLoading(true);\n      axiosInstance\n        .post(`user/login/`, {\n          email: email,\n          password: password,\n        })\n        .then((res) => {\n          setIsLoading(false);\n          localStorage.setItem(\"access_token\", res.data.tokens.access);\n          localStorage.setItem(\"refresh_token\", res.data.tokens.refresh);\n          axiosInstance.defaults.headers[\"Authorization\"] =\n            \"JWT \" + localStorage.getItem(\"access_token\");\n          history.push(\"/founder\");\n        })\n        .catch((err) => {\n          console.log(err.response.data.detail);\n          setIsLoading(false);\n          toast({\n            position: \"top-left\",\n            title: \"Message\",\n            description: err.response.data.detail,\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n          });\n        });\n    } catch (error) {\n      console.log(error);\n      setIsLoading(false);\n      alert(error);\n    }\n  };\n\n  const LoginForm = () => {\n    return (\n      <Box my={10} textAlign=\"left\">\n        <form>\n          <FormControl>\n            <FormLabel>Email address</FormLabel>\n            <Input\n              type=\"email\"\n              placeholder=\"Enter Your email address\"\n              onChange={(e) => setEmail(e.currentTarget.value)}\n            />\n          </FormControl>\n          <FormControl mt={4}>\n            <FormLabel>Password</FormLabel>\n            <Input\n              type=\"password\"\n              placeholder=\"Enter Your Password\"\n              onChange={(e) => setPassword(e.currentTarget.value)}\n            />\n          </FormControl>\n\n          <Button colorScheme=\"blue\" width=\"full\" mt={4} onClick={handleSubmit}>\n            Login\n          </Button>\n          <Stack fontSize=\"20px\" isInline justifyContent=\"space-between\" mt={4}>\n            <Box>\n              <Link to=\"/signup\">Sign Up</Link>\n            </Box>\n            <Box>\n              <Link>Forget Your password</Link>\n            </Box>\n          </Stack>\n        </form>\n      </Box>\n    );\n  };\n\n  return isLoading ? (\n    <div\n      style={{\n        display: \"flex\",\n        width: \"60%\",\n        margin: \"30px auto\",\n        height: \"80vh\",\n        textAlign: \"center\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <Spinner\n        thickness=\"4px\"\n        speed=\"0.65s\"\n        emptyColor=\"gray.200\"\n        color=\"blue.500\"\n        size=\"xl\"\n      />\n    </div>\n  ) : (\n    <div className=\"main__login\">\n      <Flex\n        minHeight=\"100vh\"\n        width=\"full\"\n        align=\"center\"\n        justifyContent=\"center\"\n      >\n        <Box\n          borderWidth={1}\n          px={10}\n          py={8}\n          width=\"full\"\n          maxWidth=\"900px\"\n          textAlign=\"center\"\n          boxShadow=\"xl\"\n        >\n          <Flex justifyContent=\"space-around\" alignItems=\"center\">\n            <Box p={4}>\n              <img src=\"https://global-uploads.webflow.com/5f3c09d8572b1a3453aa9c1f/5faac65b405f8d172ef75b8e_Sparklehood%20logo%20grey%20login%20page-p-500.png\" />\n              <LoginHeader />\n              {LoginForm()}\n            </Box>\n            <div className=\"login__image\">\n              <Box>\n                <img src=\"https://global-uploads.webflow.com/5f3c09d8572b1a3453aa9c1f/5faab7a66dfdec1ed6d2ecca_Sparklehood%20platform%20login%20page-p-500.png\" />\n              </Box>\n            </div>\n          </Flex>\n        </Box>\n      </Flex>\n    </div>\n  );\n};\n\nconst ThemeSelector = () => {\n  const { colorMode, toggleColorMode } = useColorMode();\n  return (\n    <Box textAlign=\"right\" py={4}>\n      <IconButton onClick={toggleColorMode} />\n    </Box>\n  );\n};\n\nconst LoginHeader = () => {\n  return (\n    <Box textAlign=\"center\">\n      <Heading fontSize=\"60px\">Log In</Heading>\n    </Box>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}