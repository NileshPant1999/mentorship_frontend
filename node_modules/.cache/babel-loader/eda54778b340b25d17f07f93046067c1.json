{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/nilesh/sparklehood/Sparklhood/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/nilesh/sparklehood/Sparklhood/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/nilesh/sparklehood/Sparklhood/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Spinner,Stack}from\"@chakra-ui/react\";import{Checkbox,CheckboxGroup}from\"@chakra-ui/react\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{isAuthenticated}from\"../../../../auth\";import axiosInstance from\"../../../../axios\";function Progress(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState({loading:\"false\",data:null}),_useState6=_slicedToArray(_useState5,2),progress=_useState6[0],setProgress=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),updated=_useState8[0],setUpdated=_useState8[1];var newDate=new Date();var currentNewDate=parseInt(newDate.getDate());console.log(date,currentNewDate);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return axiosInstance.get(\"founder/progress/\".concat(isAuthenticated().user_id,\"/\")).then(function(res){setIsLoading(false);var allProgress=res.data;console.log(\"all\",allProgress);setProgress({load:\"true\",data:allProgress});var temp=res.data[0].end_date;var resp=temp.split(\"-\");setDate(resp[2]);});case 3:case\"end\":return _context.stop();}}},_callee);})),[setProgress,updated]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoading(true);_context2.prev=1;_context2.next=4;return axiosInstance.post(\"founder/add/\",{founder_id:isAuthenticated().user_id,slug:parseInt(Math.random()*1000)}).then(function(res){setIsLoading(false);setUpdated(!updated);});case 4:_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[1,6]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return progress.loading||isLoading?/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",width:\"60%\",margin:\"30px auto\",height:\"80vh\",textAlign:\"center\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(Spinner,{thickness:\"4px\",speed:\"0.65s\",emptyColor:\"gray.200\",color:\"blue.500\",size:\"xl\"})}):/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"white\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:\"70%\",margin:\"auto\",paddingTop:\"30px\",display:\"flex\",justifyContent:\"space-between\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"35px\"},children:\"Weekely Update\"}),/*#__PURE__*/_jsx(\"div\",{className:date<=currentNewDate?\"disable\":\"enable\",children:/*#__PURE__*/_jsx(Button,{size:\"md\",colorScheme:\"blue\",onClick:handleSubmit,children:\"Add Update\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:progress.data.map(function(res){return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"70%\",margin:\"20px auto\",backgroundColor:\"white\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress__date\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Jan11-Jan17, 2021\"}),/*#__PURE__*/_jsx(\"a\",{href:\"details/\".concat(res.slug),_blank:\"true\",children:\"Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress__data\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\",textAlign:\"center\",paddingBottom:\"10px\",fontWeight:\"800\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"WTL\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Morale\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Users talked to\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\",textAlign:\"center\",paddingTop:\"10px\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"WTL\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Morale\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Users talked to\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress__goals\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Goals (1/2)\"}),/*#__PURE__*/_jsxs(Stack,{pl:6,mt:1,spacing:1,children:[/*#__PURE__*/_jsx(Checkbox,{children:\"Child Checkbox 1\"}),/*#__PURE__*/_jsx(Checkbox,{children:\"Child Checkbox 2\"})]})]})]});})})]});}export default Progress;","map":{"version":3,"sources":["/home/nilesh/sparklehood/Sparklhood/frontend/src/components/Founder/nav/pages/Progress.js"],"names":["Button","Spinner","Stack","Checkbox","CheckboxGroup","axios","React","useEffect","useState","isAuthenticated","axiosInstance","Progress","props","isLoading","setIsLoading","date","setDate","loading","data","progress","setProgress","updated","setUpdated","newDate","Date","currentNewDate","parseInt","getDate","console","log","get","user_id","then","res","allProgress","load","temp","end_date","resp","split","handleSubmit","e","post","founder_id","slug","Math","random","display","width","margin","height","textAlign","justifyContent","alignItems","backgroundColor","paddingTop","fontSize","map","paddingBottom","fontWeight"],"mappings":"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","sourcesContent":["import { Button, Spinner, Stack } from \"@chakra-ui/react\";\nimport { Checkbox, CheckboxGroup } from \"@chakra-ui/react\";\nimport axios from \"axios\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { isAuthenticated } from \"../../../../auth\";\nimport axiosInstance from \"../../../../axios\";\n\nfunction Progress(props) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [date, setDate] = useState();\n  const [progress, setProgress] = useState({ loading: \"false\", data: null });\n  const [updated, setUpdated] = useState(false);\n\n  const newDate = new Date();\n  const currentNewDate = parseInt(newDate.getDate());\n\n  console.log(date, currentNewDate);\n\n  useEffect(async () => {\n    setIsLoading(true);\n    await axiosInstance\n      .get(`founder/progress/${isAuthenticated().user_id}/`)\n      .then((res) => {\n        setIsLoading(false);\n        const allProgress = res.data;\n        console.log(\"all\", allProgress);\n        setProgress({ load: \"true\", data: allProgress });\n        const temp = res.data[0].end_date;\n        const resp = temp.split(\"-\");\n        setDate(resp[2]);\n      });\n  }, [setProgress, updated]);\n\n  const handleSubmit = async (e) => {\n    setIsLoading(true);\n    try {\n      await axiosInstance\n        .post(`founder/add/`, {\n          founder_id: isAuthenticated().user_id,\n          slug: parseInt(Math.random() * 1000),\n        })\n        .then((res) => {\n          setIsLoading(false);\n          setUpdated(!updated);\n        });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return progress.loading || isLoading ? (\n    <div\n      style={{\n        display: \"flex\",\n        width: \"60%\",\n        margin: \"30px auto\",\n        height: \"80vh\",\n        textAlign: \"center\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <Spinner\n        thickness=\"4px\"\n        speed=\"0.65s\"\n        emptyColor=\"gray.200\"\n        color=\"blue.500\"\n        size=\"xl\"\n      />\n    </div>\n  ) : (\n    <div style={{ backgroundColor: \"white\" }}>\n      <div\n        style={{\n          width: \"70%\",\n          margin: \"auto\",\n          paddingTop: \"30px\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          textAlign: \"center\",\n        }}\n      >\n        <h1 style={{ fontSize: \"35px\" }}>Weekely Update</h1>\n        <div className={date <= currentNewDate ? \"disable\" : \"enable\"}>\n          <Button size=\"md\" colorScheme=\"blue\" onClick={handleSubmit}>\n            Add Update\n          </Button>\n        </div>\n      </div>\n      <div>\n        {progress.data.map((res) => {\n          return (\n            <div\n              style={{\n                width: \"70%\",\n                margin: \"20px auto\",\n                backgroundColor: \"white\",\n              }}\n            >\n              <div className=\"progress__date\">\n                <h1>Jan11-Jan17, 2021</h1>\n                <a href={`details/${res.slug}`} _blank=\"true\">\n                  Edit\n                </a>\n              </div>\n              <div className=\"progress__data\">\n                <div\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"space-around\",\n                    textAlign: \"center\",\n                    paddingBottom: \"10px\",\n                    fontWeight: \"800\",\n                  }}\n                >\n                  <h1>WTL</h1>\n                  <h1>Morale</h1>\n                  <h1>Users talked to</h1>\n                </div>\n                <hr />\n                <div\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"space-around\",\n                    textAlign: \"center\",\n                    paddingTop: \"10px\",\n                  }}\n                >\n                  <h1>WTL</h1>\n                  <h1>Morale</h1>\n                  <h1>Users talked to</h1>\n                </div>\n              </div>\n              <div className=\"progress__goals\">\n                <h1>Goals (1/2)</h1>\n                <Stack pl={6} mt={1} spacing={1}>\n                  <Checkbox>Child Checkbox 1</Checkbox>\n                  <Checkbox>Child Checkbox 2</Checkbox>\n                </Stack>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default Progress;\n"]},"metadata":{},"sourceType":"module"}