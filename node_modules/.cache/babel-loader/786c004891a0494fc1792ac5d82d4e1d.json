{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/nilesh/Desktop/sparklehood_bitbucket/sparklehood_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Input,Spinner}from\"@chakra-ui/react\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useToast}from\"@chakra-ui/react\";import axiosInstance from\"../../axios\";import\"./style.css\";var VerifyEmail=function VerifyEmail(props){var toast=useToast();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),valid=_useState2[0],setValid=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var verification_token=props.match.params.token;var handleSubmit=function handleSubmit(){try{setIsLoading(true);axiosInstance.post(\"user/resend-email/\",{email:email}).then(function(res){console.log(res);setIsLoading(false);toast({position:\"top\",title:\"Email Send\",description:\"We have send the email to you at \".concat(email),status:\"info\",duration:5000,isClosable:true});}).catch(function(err){console.log(err);setIsLoading(false);});}catch(error){console.log(error);setIsLoading(false);}};useEffect(function(){try{setIsLoading(true);axiosInstance.get(\"user/email-verify/\",{params:{token:verification_token}}).then(function(res){console.log(\"res\",res);setIsLoading(false);setValid(true);}).catch(function(err){setIsLoading(false);console.log(\"err\",err);});}catch(error){console.log(error);}},[]);return isLoading?/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",width:\"60%\",margin:\"30px auto\",height:\"90vh\",textAlign:\"center\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(Spinner,{thickness:\"4px\",speed:\"0.65s\",emptyColor:\"gray.200\",color:\"blue.500\",size:\"xl\"}),/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:\"Mosk\",fontSize:\"40px\",marginTop:\"30px\"},children:\"Loading .....\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"verification__page\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"60px\",fontWeight:\"bolder\",fontFamily:\"Mosk\"},children:\"Welcome to Sparklehood\"}),valid?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Verification Succesfull please click on the button below to login\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",borderRadius:25,width:150,children:\"Login\"})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"The Link You are using is either expired or is not valid\"}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"20px\"},children:\"Please Enter Your Email Address\"}),/*#__PURE__*/_jsx(Input,{fontSize:\"18px\",backgroundColor:\"whitesmoke\",onChange:function onChange(e){return setEmail(e.currentTarget.value);},value:email,mt:2,p:4,mb:2,height:6}),/*#__PURE__*/_jsx(Button,{mt:10,colorScheme:\"blue\",borderRadius:25,width:200,onClick:handleSubmit,children:\"Resend Email\"})]})]});};export default VerifyEmail;","map":{"version":3,"sources":["/home/nilesh/Desktop/sparklehood_bitbucket/sparklehood_frontend/src/components/MainPage/VerifyEmail.js"],"names":["Button","Input","Spinner","React","useState","useEffect","Link","useToast","axiosInstance","VerifyEmail","props","toast","valid","setValid","isLoading","setIsLoading","email","setEmail","verification_token","match","params","token","handleSubmit","post","then","res","console","log","position","title","description","status","duration","isClosable","catch","err","error","get","display","width","margin","height","textAlign","justifyContent","alignItems","flexDirection","fontFamily","fontSize","marginTop","fontWeight","e","currentTarget","value"],"mappings":"8QAAA,OAASA,MAAT,CAAiBC,KAAjB,CAAwBC,OAAxB,KAAuC,kBAAvC,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAEA,MAAOC,CAAAA,aAAP,KAA0B,aAA1B,CACA,MAAO,aAAP,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC7B,GAAMC,CAAAA,KAAK,CAAGJ,QAAQ,EAAtB,CAD6B,cAEHH,QAAQ,CAAC,KAAD,CAFL,wCAEtBQ,KAFsB,eAEfC,QAFe,8BAGKT,QAAQ,CAAC,KAAD,CAHb,yCAGtBU,SAHsB,eAGXC,YAHW,8BAIHX,QAAQ,CAAC,EAAD,CAJL,yCAItBY,KAJsB,eAIfC,QAJe,eAM7B,GAAMC,CAAAA,kBAAkB,CAAGR,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,KAA9C,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAI,CACFP,YAAY,CAAC,IAAD,CAAZ,CACAP,aAAa,CACVe,IADH,sBAC8B,CAC1BP,KAAK,CAAEA,KADmB,CAD9B,EAIGQ,IAJH,CAIQ,SAACC,GAAD,CAAS,CACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAV,YAAY,CAAC,KAAD,CAAZ,CACAJ,KAAK,CAAC,CACJiB,QAAQ,CAAE,KADN,CAEJC,KAAK,CAAE,YAFH,CAGJC,WAAW,4CAAsCd,KAAtC,CAHP,CAIJe,MAAM,CAAE,MAJJ,CAKJC,QAAQ,CAAE,IALN,CAMJC,UAAU,CAAE,IANR,CAAD,CAAL,CAQD,CAfH,EAgBGC,KAhBH,CAgBS,SAACC,GAAD,CAAS,CACdT,OAAO,CAACC,GAAR,CAAYQ,GAAZ,EACApB,YAAY,CAAC,KAAD,CAAZ,CACD,CAnBH,EAoBD,CAAC,MAAOqB,KAAP,CAAc,CACdV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACArB,YAAY,CAAC,KAAD,CAAZ,CACD,CACF,CA3BD,CA6BAV,SAAS,CAAC,UAAM,CACd,GAAI,CACFU,YAAY,CAAC,IAAD,CAAZ,CACAP,aAAa,CACV6B,GADH,sBAC6B,CACzBjB,MAAM,CAAE,CACNC,KAAK,CAAEH,kBADD,CADiB,CAD7B,EAMGM,IANH,CAMQ,SAACC,GAAD,CAAS,CACbC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBF,GAAnB,EACAV,YAAY,CAAC,KAAD,CAAZ,CACAF,QAAQ,CAAC,IAAD,CAAR,CACD,CAVH,EAWGqB,KAXH,CAWS,SAACC,GAAD,CAAS,CACdpB,YAAY,CAAC,KAAD,CAAZ,CACAW,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBQ,GAAnB,EACD,CAdH,EAeD,CAAC,MAAOC,KAAP,CAAc,CACdV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACD,CACF,CArBQ,CAqBN,EArBM,CAAT,CAuBA,MAAOtB,CAAAA,SAAS,cACd,aACE,KAAK,CAAE,CACLwB,OAAO,CAAE,MADJ,CAELC,KAAK,CAAE,KAFF,CAGLC,MAAM,CAAE,WAHH,CAILC,MAAM,CAAE,MAJH,CAKLC,SAAS,CAAE,QALN,CAMLC,cAAc,CAAE,QANX,CAOLC,UAAU,CAAE,QAPP,CAQLC,aAAa,CAAE,QARV,CADT,wBAYE,KAAC,OAAD,EACE,SAAS,CAAC,KADZ,CAEE,KAAK,CAAC,OAFR,CAGE,UAAU,CAAC,UAHb,CAIE,KAAK,CAAC,UAJR,CAKE,IAAI,CAAC,IALP,EAZF,cAmBE,WAAI,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAd,CAAsBC,QAAQ,CAAE,MAAhC,CAAwCC,SAAS,CAAE,MAAnD,CAAX,2BAnBF,GADc,cAyBd,aAAK,SAAS,CAAC,oBAAf,wBACE,WACE,KAAK,CAAE,CAAED,QAAQ,CAAE,MAAZ,CAAoBE,UAAU,CAAE,QAAhC,CAA0CH,UAAU,CAAE,MAAtD,CADT,oCADF,CAMGlC,KAAK,cACJ,oCACE,yFADF,cAIE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,uBACE,KAAC,MAAD,EAAQ,WAAW,CAAC,MAApB,CAA2B,YAAY,CAAE,EAAzC,CAA6C,KAAK,CAAE,GAApD,mBADF,EAJF,GADI,cAYJ,oCACE,gFADF,cAEE,WAAI,KAAK,CAAE,CAAEmC,QAAQ,CAAE,MAAZ,CAAX,6CAFF,cAGE,KAAC,KAAD,EACE,QAAQ,CAAC,MADX,CAEE,eAAe,CAAC,YAFlB,CAGE,QAAQ,CAAE,kBAACG,CAAD,QAAOjC,CAAAA,QAAQ,CAACiC,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAf,EAHZ,CAIE,KAAK,CAAEpC,KAJT,CAKE,EAAE,CAAE,CALN,CAME,CAAC,CAAE,CANL,CAOE,EAAE,CAAE,CAPN,CAQE,MAAM,CAAE,CARV,EAHF,cAaE,KAAC,MAAD,EACE,EAAE,CAAE,EADN,CAEE,WAAW,CAAC,MAFd,CAGE,YAAY,CAAE,EAHhB,CAIE,KAAK,CAAE,GAJT,CAKE,OAAO,CAAEM,YALX,0BAbF,GAlBJ,GAzBF,CAqED,CAjID,CAmIA,cAAeb,CAAAA,WAAf","sourcesContent":["import { Button, Input, Spinner } from \"@chakra-ui/react\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useToast } from \"@chakra-ui/react\";\n\nimport axiosInstance from \"../../axios\";\nimport \"./style.css\";\n\nconst VerifyEmail = (props) => {\n  const toast = useToast();\n  const [valid, setValid] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [email, setEmail] = useState(\"\");\n\n  const verification_token = props.match.params.token;\n\n  const handleSubmit = () => {\n    try {\n      setIsLoading(true);\n      axiosInstance\n        .post(`user/resend-email/`, {\n          email: email,\n        })\n        .then((res) => {\n          console.log(res);\n          setIsLoading(false);\n          toast({\n            position: \"top\",\n            title: \"Email Send\",\n            description: `We have send the email to you at ${email}`,\n            status: \"info\",\n            duration: 5000,\n            isClosable: true,\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n          setIsLoading(false);\n        });\n    } catch (error) {\n      console.log(error);\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    try {\n      setIsLoading(true);\n      axiosInstance\n        .get(`user/email-verify/`, {\n          params: {\n            token: verification_token,\n          },\n        })\n        .then((res) => {\n          console.log(\"res\", res);\n          setIsLoading(false);\n          setValid(true);\n        })\n        .catch((err) => {\n          setIsLoading(false);\n          console.log(\"err\", err);\n        });\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  return isLoading ? (\n    <div\n      style={{\n        display: \"flex\",\n        width: \"60%\",\n        margin: \"30px auto\",\n        height: \"90vh\",\n        textAlign: \"center\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Spinner\n        thickness=\"4px\"\n        speed=\"0.65s\"\n        emptyColor=\"gray.200\"\n        color=\"blue.500\"\n        size=\"xl\"\n      />\n      <h1 style={{ fontFamily: \"Mosk\", fontSize: \"40px\", marginTop: \"30px\" }}>\n        Loading .....\n      </h1>\n    </div>\n  ) : (\n    <div className=\"verification__page\">\n      <h1\n        style={{ fontSize: \"60px\", fontWeight: \"bolder\", fontFamily: \"Mosk\" }}\n      >\n        Welcome to Sparklehood\n      </h1>\n      {valid ? (\n        <div>\n          <h1>\n            Verification Succesfull please click on the button below to login\n          </h1>\n          <Link to=\"/login\">\n            <Button colorScheme=\"blue\" borderRadius={25} width={150}>\n              Login\n            </Button>\n          </Link>\n        </div>\n      ) : (\n        <div>\n          <h1>The Link You are using is either expired or is not valid</h1>\n          <h1 style={{ fontSize: \"20px\" }}>Please Enter Your Email Address</h1>\n          <Input\n            fontSize=\"18px\"\n            backgroundColor=\"whitesmoke\"\n            onChange={(e) => setEmail(e.currentTarget.value)}\n            value={email}\n            mt={2}\n            p={4}\n            mb={2}\n            height={6}\n          />\n          <Button\n            mt={10}\n            colorScheme=\"blue\"\n            borderRadius={25}\n            width={200}\n            onClick={handleSubmit}\n          >\n            Resend Email\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VerifyEmail;\n"]},"metadata":{},"sourceType":"module"}